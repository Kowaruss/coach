<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Добавить вопросы СОП</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; }
        textarea, input { width: 100%; padding: 10px; margin: 10px 0; }
        button { padding: 10px 20px; background: #28a745; color: white; border: none; cursor: pointer; margin: 5px; }
        .question { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Добавить вопросы в базу СОП</h1>
        
        <div class="question">
            <h3>Добавить вопросы по американской рулетке (с вариантами ответов):</h3>
            <button onclick="addRouletteQuestions()">Добавить вопросы рулетки</button>
        </div>

        <div id="status"></div>
    </div>

    <script type="module">
        import { db, collection, addDoc } from '../firebase.js';

        window.addRouletteQuestions = async function() {
            const rouletteQuestions = [
                {
                    question: "В каком направлении дилер запускает шарик относительно движения колеса в игре «Американская рулетка»?",
                    options: [
                        "В противоположном направлении",
                        "В том же направлении",
                        "По часовой стрелке", 
                        "Против часовой стрелки"
                    ],
                    correctAnswer: 0
                },
                {
                    question: "Как происходит открытие стола в игре «Американская рулетка»?",
                    options: [
                        "Шарик кладется в номер «0», барабан закручивается против часовой стрелки",
                        "Шарик кладется в номер, соответствующий сегодняшней дате, барабан закручивается по часовой стрелке",
                        "Шарик кладется в номер «1», барабан закручивается по часовой стрелке",
                        "Шарик кладется в номер «36», барабан закручивается против часовой стрелки"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Как производятся выплаты последнего спина при закрытии стола в игре «Американская рулетка»?",
                    options: [
                        "Полностью через цветные фишки",
                        "Частично кэшем, частично фишками", 
                        "Полностью через кэш",
                        "По усмотрению инспектора"
                    ],
                    correctAnswer: 2
                },
                {
                    question: "Какова процедура обмена кэша на цвет в игре «Американская рулетка»?",
                    options: [
                        "Кэш на верхней ступени, дилер объявляет сумму, выдает цвет",
                        "Кэш на нижней ступени, дилер выдает цвет, затем объявляет сумму",
                        "Кэш на верхней ступени, дилер выдает цвет без объявления",
                        "Кэш на нижней ступени, раскрыт колен-валом, дилер объявляет сумму и номинал, выдает цвет с согласия инспектора"
                    ],
                    correctAnswer: 3
                },
                {
                    question: "Допустим ли обмен кэша на цвет во время спина в игре «Американская рулетка»?",
                    options: [
                        "Допустим, если позволяет время; если нет, дилер объявляет: «Обмен только после спина»",
                        "Всегда допустим",
                        "Никогда не допустим", 
                        "Допустим только с разрешения Пит-босса"
                    ],
                    correctAnswer: 0
                },
                {
                    question: "Когда производятся все операции с фишками (обмен, изменение номинала) в игре «Американская рулетка»?",
                    options: [
                        "Только во время спина",
                        "Между спинами, обмен допустим во время спина, если позволяет время",
                        "Только после спина",
                        "В любое время по запросу игрока"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Что анонсирует дилер при выдаче цветных фишек в игре «Американская рулетка»?",
                    options: [
                        "Только количество фишек",
                        "Только номинал фишек", 
                        "Количество фишек, номинал и сумму обмена",
                        "Только сумму обмена"
                    ],
                    correctAnswer: 2
                },
                {
                    question: "Каково правило запуска спина в игре «Американская рулетка»?",
                    options: [
                        "Дилер берет шарик, запускает его в любом направлении",
                        "Дилер запускает шарик, затем меняет направление вращения колеса",
                        "Дилер берет шарик, протягивает руку на один номер и запускает спин",
                        "Дилер сначала меняет направление вращения колеса, затем берет шарик из номера, протягивает руку примерно на два номера и запускает спин"
                    ],
                    correctAnswer: 3
                }
            ];

            try {
                for (const q of rouletteQuestions) {
                    await addDoc(collection(db, "sops"), {
                        question: q.question,
                        options: q.options,
                        correctAnswer: q.correctAnswer,
                        timestamp: new Date()
                    });
                }
                document.getElementById('status').innerHTML = '<p style="color: green;">✅ 8 вопросов с вариантами ответов добавлены в базу!</p>';
            } catch (error) {
                console.error("Ошибка:", error);
                document.getElementById('status').innerHTML = '<p style="color: red;">❌ Ошибка: ' + error.message + '</p>';
            }
        };
    </script>
</body>
</html>
